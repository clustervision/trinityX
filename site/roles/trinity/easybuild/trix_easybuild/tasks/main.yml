- name: Ensure EasyBuild shared directory exists
  file:
    path: "{{ easybuild_home }}"
    state: directory
    owner: "{{ easybuild_user }}"
 #    group: "{{ easybuild_user }}"
    mode: "0755"
  tags: easybuild-prepare

- name: Install EasyBuild temporarily as user
  block:
    - include_tasks: install_as_user.yml
  become: true
  become_user: "{{ easybuild_user }}"
  tags: easybuild-install

- name: Configure system-wide EasyBuild environment
  include_tasks: post_install_root.yml
  tags: easybuild-env

